<application>
<name>vEgomotionDemo</name>

<dependencies>
</dependencies>

<module>
    <name> zynqGrabber </name>
    <parameters> </parameters>
    <node>icub-zynq</node>
</module>

<module>
    <name>vPreProcess</name>
    <parameters>--undistort false --flipx --flipy</parameters>
    <node>icub24</node>
</module>

<module>
    <name>vCornerRT</name>
    <parameters>--strict --width 304 --height 240 --harris true --spatial 4 --nthreads 8 --allToSurf false --qsize 25</parameters>
    <node>icub23</node>
</module>

<module>
    <name>vCornerRT</name>
    <parameters>--strict --width 304 --height 240 --fast true</parameters>
    <node>icub23</node>
</module>

<module>
    <name>vCornerTracking</name>
    <parameters> --strict --width 304 --height 240 --minevts 8 --trefresh 0.05</parameters>
    <node>icub23</node>
</module>

<module>
    <name>vEgomotion</name>
    <parameters>--thresh_mag 4.0 </parameters>
    <node>icub23</node>
</module>

<module>
   <name>velocityObserver</name>
   <parameters> --name /velObsHead --lenVel 20</parameters>
   <node>icub24</node>
</module>

<module>
    <name>vEgomotionDemo</name>
    <parameters> </parameters>
    <node>icub23</node>
</module>

<module>
    <name> vFramer</name>
    <parameters> --frameRate 30 --eventWindow 0.1 --displays "(1 /flow (AE AE-INT FLOW BOUND) 1 /right (AE AE-INT ISO ISO-INT))"</parameters>
    <node>icub24</node>
</module>

<module>
   <name> yarpview </name>
   <parameters>--name /viewCh0 --x 30 --y 30 --w 608 --h 480 --RefreshTime 33 </parameters>
   <node>icub24</node>
</module>

<module>
   <name> yarpview </name>
   <parameters>--name /viewCh1 --x 648 --y 30 --w 608 --h 480 --RefreshTime 33 </parameters>
   <node>icub24</node>
</module>

<module>
   <name> yarpscope </name>
   <parameters>--xml velocityOut.xml</parameters>
   <node>icub23</node>
</module>

<connection>
  <from>/zynqGrabber/vBottle:o</from>
  <to>/vPreProcess/vBottle:i</to>
  <protocol> udp </protocol>
</connection>

<connection>
  <from>/vPreProcess/vBottle:o</from>
  <to>/vFramer/AE:i</to>
  <protocol> udp </protocol>
</connection>

<connection>
  <from>/vPreProcess/vBottle:o</from>
  <to>/vCornerRT/vBottle:i</to>
  <protocol> udp </protocol>
</connection>

<connection>
  <from>/vCornerRT/vBottle:o</from>
  <to>/vCornerTracking/vBottle:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vCornerTracking/vBottle:o</from>
  <to>/vEgomotion/vBottle:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vEgomotion/vBottle:o</from>
  <to>/vFramer/LAE:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vCornerTracking/vBottle:o</from>
  <to>/vFramer/FLOW:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vCornerRT/vBottle:o</from>
  <to>/vFramer/LAE:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/icub/head/state:o</from>
  <to>/velObsHead/pos:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/velObsHead/vel:o</from>
  <to>/vEgomotion/encoders:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vEgomotion/vBottle:o</from>
  <to>/vEgomotionDemo/vBottle:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vFramer/flow</from>
  <to>/viewCh0</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vFramer/right</from>
  <to>/viewCh1</to>
  <protocol>udp</protocol>
</connection>


</application>
