<application>
<name>vEgomotion</name>

<dependencies>
</dependencies>

<module>
    <name> zynqGrabber </name>
    <parameters> </parameters>
    <node>icub-zynq</node>
</module>

<module>
    <name>vPepper</name>
    <parameters>--strict --width 304 --height 240 --temporalSize 100000</parameters>
    <node>icub23</node>
</module>

<module>
    <name>vCornerRT</name>
    <parameters>--strict --width 304 --height 240 --callback false --nthreads 8 --tempsize 0.1</parameters>
    <node>icub23</node>
</module>

<module>
    <name>vCornerTracking</name>
    <parameters> --strict --width 304 --height 240 --callback false --minevts 10 --mindist 3 </parameters>
    <node>icub23</node>
</module>

<module>
    <name>vEgomotion</name>
    <parameters> </parameters>
    <node>icub23</node>
</module>

<module>
   <name>velocityObserver</name>
   <parameters> --name /velObsHead --lenVel 20</parameters>
   <node>icub23</node>
</module>

<module>
    <name> vFramer</name>
    <parameters> --frameRate 30 --eventWindow 0.1 --displays "(1 /flow (AE AE-INT FLOW) 1 /right (AE AE-INT ISO ISO-INT))" --height 240 --width 304 --strict --flip</parameters>
    <node>icub24</node>
</module>

<module>
   <name> yarpview </name>
   <parameters>--name /viewCh0 --x 30 --y 30 --w 608 --h 480 --RefreshTime 33 </parameters>
   <node>icub24</node>
</module>

<module>
   <name> yarpview </name>
   <parameters>--name /viewCh1 --x 648 --y 30 --w 608 --h 480 --RefreshTime 33 </parameters>
   <node>icub24</node>
</module>

<module>
   <name> yarpscope </name>
   <parameters>--xml velocityOut.xml</parameters>
   <node>icub23</node>
</module>

<connection>
  <from>/zynqGrabber/vBottle:o</from>
  <to>/vPepper/vBottle:i</to>
  <protocol> udp </protocol>
</connection>

<connection>
  <from>/vPepper/vBottle:o</from>
  <to>/vFramer/AE:i</to>
  <protocol> udp </protocol>
</connection>

<connection>
  <from>/vPepper/vBottle:o</from>
  <to>/vCornerRT/vBottle:i</to>
  <protocol> shmem </protocol>
</connection>

<connection>
  <from>/vCornerRT/vBottle:o</from>
  <to>/vCornerTracking/vBottle:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vCornerTracking/vBottle:o</from>
  <to>/vEgomotion/vBottle:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vEgomotion/vBottle:o</from>
  <to>/vFramer/LAE:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vCornerTracking/vBottle:o</from>
  <to>/vFramer/FLOW:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vCornerRT/vBottle:o</from>
  <to>/vFramer/LAE:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/icub/head/state:o</from>
  <to>/velObsHead/pos:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/velObsHead/vel:o</from>
  <to>/vEgomotion/encoders:i</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vFramer/flow</from>
  <to>/viewCh0</to>
  <protocol>udp</protocol>
</connection>

<connection>
  <from>/vFramer/right</from>
  <to>/viewCh1</to>
  <protocol>udp</protocol>
</connection>


</application>
